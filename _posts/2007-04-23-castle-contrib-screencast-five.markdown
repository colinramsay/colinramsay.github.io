---
layout: post
status: publish
published: true
title: Castle Contrib - Screencast Five
author: Colin Ramsay
author_login: colinramsay
author_email: colinramsay@gmail.com
author_url: http://colinramsay.co.uk
excerpt: ! "This <a href=\"http://colinramsay.co.uk/screencasts/5/\">screencast</a>
  takes a break from the theme of the past few in the series and examines two of the
  projects within <a href=\"http://www.castleproject.org/others/contrib/index.html\">Castle's
  Contrib</a> project - <a href=\"http://blog.eleutian.com/PermaLink,guid,088e158b-cd3c-4920-8df5-a3628013cc1d.aspx\">CodeGenerator</a>
  and <a href=\"http://altinoren.com/activewriter/\">ActiveWriter</a>.\r\n\r\n<a href=\"http://colinramsay.co.uk/screencasts/5/\">http://colinramsay.co.uk/screencasts/5/</a>\r\n\r\nThe
  Monday morning blues mean this cast is a little less fluent than the others, but
  I hope you find it useful. Read on for some of the code snippets used in the screencast."
wordpress_id: 357
wordpress_url: http://colinramsay.co.uk/2007/04/23/castle-contrib-screencast-five/
date: !binary |-
  MjAwNy0wNC0yMyAxMjo1MjowMiArMDEwMA==
date_gmt: !binary |-
  MjAwNy0wNC0yMyAxMTo1MjowMiArMDEwMA==
categories:
- .NET
- Monorail
- Screencasts
- C#
tags: []
comments:
- id: 29
  author: Zen and the art of Castle maintenance &raquo; Archives &raquo; Castle Contrib
    Screencast
  author_email: ''
  author_url: http://hammett.castleproject.org/?p=142
  date: !binary |-
    MjAwNy0wNC0yNCAwMzozOTo1NSArMDEwMA==
  date_gmt: !binary |-
    MjAwNy0wNC0yNCAwMjozOTo1NSArMDEwMA==
  content: ! '[...] has made available some nice screencasts about MonoRail. The one
    I enjoyed the most was about the Contrib. He explained the CodeGenerator that
    these guys came up with and others [...]'
- id: 39
  author: Kevin Miller
  author_email: kmiller@gmail.com
  author_url: http://blogs.dovetailsoftware.com/blogs/kmiller/default.aspx
  date: !binary |-
    MjAwNy0wNC0yNiAwNDowMzowNSArMDEwMA==
  date_gmt: !binary |-
    MjAwNy0wNC0yNiAwMzowMzowNSArMDEwMA==
  content: I loved the screencast. I was blown away by he activewrier demo and cannot
    wait to see how this tool matures. ADO Entity Framework is no longer shipping
    with a graphical designer and low and behold one for active record is sitting
    here in our laps. Great job getting the work out there.
- id: 41
  author: Interesting finding - 04/25/2007 &laquo; Another .NET Blog
  author_email: ''
  author_url: http://liangwu.wordpress.com/2007/04/26/interesting-finding-04252007/
  date: !binary |-
    MjAwNy0wNC0yNiAyMDo1ODo1NyArMDEwMA==
  date_gmt: !binary |-
    MjAwNy0wNC0yNiAxOTo1ODo1NyArMDEwMA==
  content: ! '[...] Castle Contrib - Screencast Five  [...]'
- id: 71
  author: crimsondr
  author_email: bchanb@gmail.com
  author_url: ''
  date: !binary |-
    MjAwNy0wNS0yMiAyMjowNjo1OCArMDEwMA==
  date_gmt: !binary |-
    MjAwNy0wNS0yMiAyMTowNjo1OCArMDEwMA==
  content: watched the screencast and was amazed!  unfortunately when i try it, the
    codegenerator crashes when trying to redirect() to an action...
- id: 73
  author: colinramsay
  author_email: colinramsay@gmail.com
  author_url: http://
  date: !binary |-
    MjAwNy0wNS0yMiAyMjoxMTo1MCArMDEwMA==
  date_gmt: !binary |-
    MjAwNy0wNS0yMiAyMToxMTo1MCArMDEwMA==
  content: ! "Hmm, it's probably worth putting a message on the Castle Users list:\r\n\r\nhttp://groups.google.com/group/castle-project-users?hl=en
    \r\n\r\nThen we can see if it is a bug or a usage problem."
- id: 2769
  author: Joe
  author_email: joelowrance@gmail.com
  author_url: ''
  date: !binary |-
    MjAwNy0wOS0yOCAwMzoxMjo1NSArMDEwMA==
  date_gmt: !binary |-
    MjAwNy0wOS0yOCAwMjoxMjo1NSArMDEwMA==
  content: ! "All five of these were great, Colin. Thanks.\r\n\r\nI do have to wonder
    about the people naming these projects (or possibly my own lack of curiosity).
    \ From the first time I heard about ActiveWriter, I just assumed another logging
    or some kind of static output utility and never bothered to do any further research.\r\n\r\nAgain,
    thanks!"
- id: 3138
  author: Vitaliy
  author_email: vitdukhovny@gmail.com
  author_url: ''
  date: !binary |-
    MjAwNy0xMC0wMyAxNjozNToyMCArMDEwMA==
  date_gmt: !binary |-
    MjAwNy0xMC0wMyAxNTozNToyMCArMDEwMA==
  content: ! "Correct, please\r\nImport shippet, should be\r\n  \r\n\r\nThanks. Great
    job!!!"
- id: 17147
  author: andriy
  author_email: drozzy@gmail.com
  author_url: ''
  date: !binary |-
    MjAwOC0wMy0yMyAwNjo0NDoyNyArMDAwMA==
  date_gmt: !binary |-
    MjAwOC0wMy0yMyAwNTo0NDoyNyArMDAwMA==
  content: ! "Great cast!\r\nI don't like code generator very much - i think strings
    are kinda nicer looking the alot of hierarchical.dot.dots\r\n\r\nActiveWriter
    looks great! Just curiour - does it actually generate models (with source code)
    or only binaries???\r\nHow suitable is it for production use? \r\n\r\nHope there'll
    be more casts.\r\nCheers!"
- id: 17415
  author: Hey! It&#8217;s Brian! &raquo; Blog Archive &raquo; What&#8217;s Up With
    Castle - Week of April 30, 2007
  author_email: ''
  author_url: http://staging.brianromanko.com/2007/05/09/whats-up-with-castle-week-of-april-30-2007/
  date: !binary |-
    MjAwOC0wMy0zMSAwMzoyMjo1NSArMDEwMA==
  date_gmt: !binary |-
    MjAwOC0wMy0zMSAwMjoyMjo1NSArMDEwMA==
  content: ! '[...] Screencast on Using CodeGenerator and ActiveWriter: Shows the
    basics of both of these projects and why you might want to use them in your next
    Castle foray. If you&#8217;ve never used either it&#8217;s worth 20 minutes of
    your time. In case you are unfamiliar, CodeGenerator is an MSBuild task for generating
    strongly typed wrapper classes for your controllers and views. ActiveWriter is
    a Visual Studio file type used to create ActiveRecord models using a visual designer
    (similar to the class designer). [...]'
- id: 18658
  author: dougre
  author_email: drozzy@gmail.com
  author_url: ''
  date: !binary |-
    MjAwOC0wNC0xNyAyMDoyMDowNyArMDEwMA==
  date_gmt: !binary |-
    MjAwOC0wNC0xNyAxOToyMDowNyArMDEwMA==
  content: ! "is it just me, but Colin's voice makes me REALLY sleepy.\r\nI should
    turn you on before going to bed...\r\n\r\nGreat stuff btw."
---
<p>This <a href="http://colinramsay.co.uk/screencasts/5/">screencast</a> takes a break from the theme of the past few in the series and examines two of the projects within <a href="http://www.castleproject.org/others/contrib/index.html">Castle's Contrib</a> project - <a href="http://blog.eleutian.com/PermaLink,guid,088e158b-cd3c-4920-8df5-a3628013cc1d.aspx">CodeGenerator</a> and <a href="http://altinoren.com/activewriter/">ActiveWriter</a>.</p>
<p><a href="http://colinramsay.co.uk/screencasts/5/">http://colinramsay.co.uk/screencasts/5/</a></p>
<p>The Monday morning blues mean this cast is a little less fluent than the others, but I hope you find it useful. Read on for some of the code snippets used in the screencast.<a id="more"></a><a id="more-357"></a></p>
<p>Here's the snippet you need to add to your .csproj file to enable the CodeGenerator:</p>
<pre><code>&lt;Import Project="$(MSBuildExtensionsPath)\Castle.Tools.CodeGenerator\Castle.Tools.CodeGenerator.targets" /&gt;</code></pre>
<p>Here's the code for the AbstractController base class I use in the CodeGenerator segment:</p>
<pre><code>using Castle.MonoRail.Framework;
using Castle.Tools.CodeGenerator.Services;
using CodeGeneratorTest.SiteMap;

namespace CodeGeneratorTest.Controllers
{
	public class AbstractController : SmartDispatcherController
	{
		private ICodeGeneratorServices _services;

		public ICodeGeneratorServices CodeGeneratorServices
		{
			get { return _services; }
		}

		public RootAreaNode Site
		{
			get { return new RootAreaNode(_services); }
		}

		protected virtual void PerformGeneratedInitialize()
		{
			_services = new DefaultCodeGeneratorServices(
				new DefaultControllerReferenceFactory(),
				new AspDotNetRedirectService(),
				new DefaultArgumentConversionService(),
				new DefaultRuntimeInformationService());
			_services.Controller = this;
		}

		protected override void Initialize()
		{
			base.Initialize();

			PerformGeneratedInitialize();
		}
	}
}</code></pre>
